extends ../components/common/page.jade

block content
	include ../components/cursuri/cursuri_content.jade
block javascript
	script(type="text/javascript").
		$(function(){
			$("#btn-refresh").on("click", function(){
				$("#btn-refresh").text("Refresh Cursuri");
				loadAJAX();
			});
			$("#btn-curs-nou").on("click", function(){
				showPopup();
			});
			$("#btn-adauga").on("click", function(){
				//$.post("http://localhost:8080/courses").done(function (data) {
					console.log("work in progress");
				//});
			});
			function showPopup(){
				//$('#modal_id').find('.modal-title').text('title');
				//$('#modal_id').find('.modal-about').text('about');
				//$('#modal_id').find('.modal-body').text('details');
				console.log("intra in functie showPopup");
				$('#modal_id').modal('show');
			}
			function loadAJAX(){
				$.get("http://localhost:8080/courses", function (data, status) {
					var inside = "";
					var i;
					var row = [];
					var th = document.getElementById("id01");
					//var b1 = document.getElementById("btn-refresh");
					//var b2 = document.getElementById("btn-curs-nou");
					$(".container").empty();
					$(".container").append(th);
					for(i = 0; i < data.length; i++) {
						row[i] = $("<div></div>").attr("class","row row-content");
						$("#id01").after(row[i]);
						inside += '<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">' + data[i].title + '</div>';
						inside += '<div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">' + data[i].about + '</div>';
						inside += '<div class="col-xs-7 col-sm-7 col-md-7 col-lg-7">' + data[i].details + '</div>';
						inside += '<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">' + data[i].owner + '</div>';
						$(row[i]).append(inside);
						inside="";
					}
					console.log(status);
				});
			}
		});